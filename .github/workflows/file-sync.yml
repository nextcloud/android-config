name: Sync Files
on:
  schedule:
    - cron: "0 2 * * *"
  workflow_dispatch:

# Declare default permissions as read only.
permissions: read-all

concurrency: 
  group: sync-files-${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@f43a0e5ff2bd294095638e18286ca9a3d1956744 # v3.6.0
      - name: Run GitHub File Sync
        uses: BetaHuhn/repo-file-sync-action@3023dac7ce66c18b119e2012348437eadeaea116 # v1.21.0
        with:
          GH_PAT: ${{ secrets.GH_PAT }}
          GIT_USERNAME: nextcloud-android-bot
          GIT_EMAIL: android@nextcloud.com
          COMMIT_BODY: "Signed-off-by: nextcloud-android-bot <android@nextcloud.com>"
