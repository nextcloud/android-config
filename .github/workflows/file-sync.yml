name: Sync Files
on:
  schedule:
    - cron: "0 2 * * *"
  workflow_dispatch:

# Declare default permissions as read only.
permissions: read-all

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@8e5e7e5ab8b370d6c329ec480221332ada57f0ab # v3.5.2
      - name: Run GitHub File Sync
        uses: BetaHuhn/repo-file-sync-action@3023dac7ce66c18b119e2012348437eadeaea116 # v1.21.0
        with:
          GH_PAT: ${{ secrets.GH_PAT }}
          GIT_USERNAME: nextcloud-android-bot
          GIT_EMAIL: android@nextcloud.com
          COMMIT_BODY: "Signed-off-by: nextcloud-android-bot <android@nextcloud.com>"
